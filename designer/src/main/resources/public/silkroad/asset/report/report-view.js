define(["template","dialog","report/report-model","report/publish-report-dialog-template"],function(a,b,c,d){return Backbone.View.extend({initialize:function(){var a=this;a.model=new c({id:a.id})},publishReport:function(a,c){c=c||this.id,this.model.publishReport(a,c,function(e){var f={url:e,type:a};b.showDialog({content:d.render(f),title:"报表发布成功",dialog:{height:500,width:810,open:function(){var a=$(this);a.find(".j-report-list").click(function(){a.dialog("close"),require(["report/list/main-view"],function(a){window.dataInsight.main.destroy(),new a({el:$(".j-main")})})}),a.find(".j-report-edit").click(function(){a.dialog("close"),require(["report/edit/main-view"],function(a){window.dataInsight.main.destroy(),new a({el:$(".j-main"),id:c,isEdit:!0})})})},buttons:{"确定":function(){$(this).dialog("close")}}}})})}})});