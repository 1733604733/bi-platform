define(function(){function a(a){var b=$(a);b.click(function(){});var c=$("html");c.mousedown(function(c){$.contains(a,c.target)||b.hide()})}var b=function(b){var c=this;this.options=b,this.render(),a(c.el)};return b.prototype.render=function(){var a=this.options,b=$("<div></div>");this.el=b[0];var c={position:"absolute","z-index":"999"};b.css(c),b.appendTo($(document.body)),b.append(a.content),b.hide()},b.prototype.show=function(a){var b=this,c=$(b.el),d=c.outerWidth(),e=c.outerHeight(),f=$(a).offset().top,g=$(a).offset().left,h=parseInt($(a).outerHeight()),i=parseInt($(a).outerWidth()),j=$(document),k=j.outerWidth(),l=j.outerHeight(),m=g+i,n=f+h;d>k-m?e>l-f?c.css({top:n-e+"px",left:g-d+"px"}).show():c.css({top:f+"px",left:g-d+"px"}).show():e>l-f?c.css({top:n-e+"px",left:m+"px"}).show():c.css({top:f+"px",left:m+"px"}).show()},b.prototype.hide=function(){var a=this,b=$(a.el);b.hide()},b.prototype.redraw=function(a){var b=this,c=$(b.el);c.html(a)},b});