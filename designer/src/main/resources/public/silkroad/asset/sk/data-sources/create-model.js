define(["url"],function(a){var b=Backbone.Model.extend({defaults:{isAdd:!0,id:"",type:"",name:"",connUrl:"",userName:"",password:"",isEncrypt:"",database:""},initialize:function(){},getInitData:function(){var a=this,b=a.get("isAdd");b?a.loadDataSourcesGroup():a.getCurrentDsInfo()},getCurrentDsInfo:function(){var b=this;$.ajax({url:a.getCurrentDataSourceInfo(b.get("groupId"),b.get("id")),success:function(a){b.set("dbData",a.data)}})},submit:function(b,c){var d,e=this,f=e.get("isAdd");d=f?a.submitDataSourceInfoAdd(b.groupId):a.submitDataSourceInfoUpdate(b.groupId,e.get("id")),delete b.groupId,b.isEncrypt=this.get("isEncrypt"),$.ajax({url:d,type:f?"POST":"PUT",data:b,success:function(){c()}})},loadDataSourcesGroup:function(){var b=this;$.ajax({url:a.loadDsgroupList(),success:function(a){for(var c=a.data,d=[],e=0,f=c.length;f>e;e++)d.push({id:c[e].id,name:c[e].name});b.set("groupData",d),b.set("dbData",{})}})}});return b});