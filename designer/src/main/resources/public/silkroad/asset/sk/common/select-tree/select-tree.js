define(["ztree-core","ztree-check"],function(){var a=function(a){var b={check:{enable:!0,chkboxType:{Y:"s",N:""}},data:{simpleData:{enable:!0}}};this.el=a.el,a.okCallback&&(this.okCallback=a.okCallback),a.async&&(b.async=a.async),this.option=b,this.render()};return a.prototype.render=function(){var a=Math.floor(100*Math.random()+1),b=(new Date).getTime()+"",c=b.slice(b.length-4)+a,d="select-tree-"+c,e=['<span class="select-tree-input"></span>','<div class="select-tree-box">','<ul class="select-tree-content ztree" id="',d,'">',"</ul>",'<div class="select-tree-foot">','<span type="button" class="select-tree-foot-btn select-tree-foot-ok j-tree-ok">',"完成","</span>",'<span type="button" class="select-tree-foot-btn select-tree-foot-cancel j-tree-cancel">',"取消","</span>","</div>","</div>"];$(this.el).html(e.join("")),$(this.el).addClass("select-tree").css("position","relative"),this.treeId=d;var f=$(this.el).attr("data-tree-select-name");f&&$(this.el).find(".select-tree-input").html(f),this.bindEvent(),$.fn.zTree.init($("#"+d),this.option),this.treeObj=$.fn.zTree.getZTreeObj(this.treeId)},a.prototype.bindEvent=function(){var a=this,b=$(".select-tree-input",a.el);b.unbind(),b.click(function(){$(".select-tree-box",a.el).slideDown()}),$(".j-tree-ok",a.el).unbind(),$(".j-tree-ok",a.el).click(function(){var b=a.treeObj.getCheckedNodes(),c=[],d=[];for(var e in b)c.push(b[e].id),d.push(b[e].name);c=c.join(","),d=d.join(","),$(".select-tree-box",a.el).slideUp(),$(a.el).attr("data-tree-select-id",c),$(a.el).attr("data-tree-select-name",d),$(a.el).find(".select-tree-input").html(d),a.okCallback&&a.okCallback(c)}),$(".j-tree-cancel",a.el).unbind(),$(".j-tree-cancel",a.el).click(function(){$(".select-tree-box",a.el).slideUp()})},a});