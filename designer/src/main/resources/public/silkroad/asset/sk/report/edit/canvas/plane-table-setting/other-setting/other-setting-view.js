define(["dialog","report/edit/canvas/plane-table-setting/other-setting/other-setting-model","report/edit/canvas/plane-table-setting/other-setting/other-setting-template"],function(a,b,c){return Backbone.View.extend({events:{"click .j-others-operate":"getOtherSettingData"},initialize:function(a){this.model=new b({canvasModel:a.canvasView.model,reportId:a.reportId}),this.model.set("compId",this.$el.find(".j-comp-setting").attr("data-comp-id"))},getOtherSettingData:function(){var a=this;a.model.getOtherSettingData(function(b){a._openOtherSettingDialog(b)})},destroy:function(){this.stopListening(),this.model.clear({silent:!0}),delete this.model,this.$el.unbind()},_openOtherSettingDialog:function(b){var d,e=this;d=c.render(b),a.showDialog({title:"其他操作",content:d,dialog:{width:350,height:220,resizable:!1,buttons:[{text:"提交",click:function(){e._saveOtherSettingInfo($(this))}},{text:"取消",click:function(){$(this).dialog("close")}}]}})},_saveOtherSettingInfo:function(a){var b=this,c={},d=$(".data-format-black").find('input[type="checkbox"]');d.each(function(){var a=$(this).attr("name"),b=$(this).is(":checked");c[a]=b?"true":"false"}),b.model.saveOtherSettingData(c,function(){a.dialog("close"),window.dataInsight.main.canvas.showReport()})}})});