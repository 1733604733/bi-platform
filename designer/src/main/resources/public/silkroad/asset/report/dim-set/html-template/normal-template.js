define(["template"],function(a){function b(b){"use strict";b=b||{};var c=a.utils,d=(c.$helpers,c.$each),e=b.dim,f=(b.$cube,b.i,c.$escape),g=b.cubes,h=(b.j,b.$dim,b.$index,b.relationTables),i=(b.$relationTable,b.$field,"");return i+='<div class="dim-container-normal">\n    <ul class="normal-column-names c-f">\n        <li><span>主数据表</span></li>\n        <li><span>主表字段</span></li>\n        <li><span>关联数据表</span></li>\n        <li><span>关联表字段</span></li>\n    </ul>\n    <div class="normal-main j-normal-main">\n        <!--循环cube列表（dim.normal）-->\n        ',d(e.normal,function(a){i+='\n        <div class="normal-main-box c-f j-normal-main-box">\n            <span class="cube-name" cubeId =',i+=f(a.cubeId),i+=" title=",i+=f(g[a.cubeId].name),i+=">",i+=f(g[a.cubeId].name),i+='</span>\n            <span class="normal-cube-open j-normal-cube-open"></span>\n            <div class="normal-relation-container j-normal-relation-container c-f">\n                <!--循环cube中的行（dim.normal.children）-->\n                ',d(a.children,function(b,c){i+='\n                <div class="normal-relation-box j-normal-relation-box">\n                    ',0!==c&&(i+='\n                        <span class="normal-broken-line"></span>\n                    '),i+='\n                    <select class="normal-relation-box-select-fields mr-20">\n                        <option value="0">请选择</option>\n                        <!-- 循环每一行中的主表字段(cubes.cube1.currDims)-->\n                        ',d(g[a.cubeId].currDims,function(a){i+="\n                        <option value=",i+=f(a.id),i+="\n                            ",a.id===b.currDim&&(i+='selected="selected"\n                            '),i+=">",i+=f(a.name),i+="\n                        </option>\n                        "}),i+='\n                    </select>\n                    <span class="equal">=</span>\n                    <select class="normal-relation-box-select-table mr-30 j-normal-relation-table-select" >\n                        <option value="0">请选择</option>\n                        <!-- 循环关联数据表(relationTables)-->\n                        ',d(h,function(a){i+="\n                        <option value=",i+=f(a.id),i+="\n                        ",a.id===b.relationTable&&(i+='selected="selected"\n                        '),i+=">",i+=f(a.name),i+="\n                        </option>\n                        "}),i+='\n                    </select>\n                    <select class="normal-relation-box-select-fields mr-10">\n                        <option value="0">请选择</option>\n                        <!-- 循环关联数据表(relationTables)-->\n                        ',d(h,function(a){i+="\n                        <!-- 如果关联数据表等于当前行的的关联表,那么就循环此关联表中的字段-->\n                        ",a.id===b.relationTable&&(i+="\n                            ",d(a.fields,function(a){i+="\n                                <option value=",i+=f(a.id),i+="\n                                ",a.id===b.field&&(i+='selected="selected"\n                                '),i+=">",i+=f(a.name),i+="\n                                </option>\n                            "}),i+="\n                        "),i+="\n                        "}),i+='\n                    </select>\n                    <span class="delete j-normal-delete"></span>\n                    ',a.children.length===c+1&&(i+='\n                        <span class="add j-normal-add"></span>\n                    '),i+="\n                </div>\n\n                "}),i+='\n            </div>\n            <span class="normal-error-msg j-normal-error-msg hide"></span>\n        </div>\n        '}),i+='\n    </div>\n    <span class="prompt mt-30">注：建立关联后，默认将关联表的所有字段全部取出</span>\n</div>'}return{render:b}});