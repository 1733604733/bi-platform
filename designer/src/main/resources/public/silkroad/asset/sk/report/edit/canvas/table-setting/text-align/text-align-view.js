define(["dialog","report/edit/canvas/table-setting/text-align/text-align-model","report/edit/canvas/table-setting/text-align/text-align-setting-template"],function(a,b,c){var d=Backbone.View.extend({events:{"click .j-set-text-align":"getTextAlignList"},initialize:function(a){var c=this;c.model=new b({canvasModel:a.canvasView.model,reportId:a.reportId}),this.model.set("compId",this.$el.find(".j-comp-setting").attr("data-comp-id"))},getTextAlignList:function(){var a=this;a.model.getCompAxis(function(b){a._openTextAlignDialog(b)})},destroy:function(){this.stopListening(),this.model.clear({silent:!0}),delete this.model,this.$el.unbind()},_openTextAlignDialog:function(b){var d,e=this;return $.isEmptyObject(b.indList)?(a.alert("没有指标"),void 0):(d=c.render(b),a.showDialog({title:"文本对齐设置",content:d,dialog:{width:340,height:300,resizable:!1,buttons:[{text:"提交",click:function(){e._saveTextAlignInfo($(this))}},{text:"取消",click:function(){$(this).dialog("close")}}]}}),void 0)},_saveTextAlignInfo:function(a){var b=$(".text-align-set").find("select"),c={};b.each(function(){var a=$(this),b=a.attr("name");c[b]=a.val()}),this.model.saveTextAlignInfo(c,function(){a.dialog("close"),window.dataInsight.main.canvas.showReport()})}});return d});