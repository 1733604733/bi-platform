define(["nav/nav-template","dialog"],function(a,b){var c=b.alert,d="_init",e=Backbone.View.extend({initialize:function(){this.listenTo(this.model,"change:currentMenu",this._currentMenuChanged),this.render(),this.hideOther(),this._currentMenuChanged(),window.dataInsight.navView=this},render:function(){var b=this,c=b.model,d=c.getNavData();$(b.el).html(a.render(d)),b._bindEvents()},destroy:function(){this.stopListening(),this.model.clear({silent:!0}),delete window.dataInsight.navView},_bindEvents:function(){var a,b=this,c=b.model,d=$(b.el),e=d.find(".nav-main");e.on("click.navMenu",".nav-menu",function(){var b=$(this),d=b.attr("id");a=c.getCurrentMenuId(),a!==d&&(c.setCurrentMenuId(d),b.addClass("nav-menu-focus").siblings().removeClass("nav-menu-focus"))})},_currentMenuChanged:function(){var a,b,c=this.model;a=c.getCurrentMenuId(),b=a.charAt(0).toUpperCase(),a=b+a.slice(1,a.length),this[d+a]()},_initDataSourceManager:function(){this._destroyPanel(),require(["data-sources/list/main-view"],function(a){new a({el:$(".j-main")})})},_initReportManager:function(){this._destroyPanel(),require(["report/list/main-view"],function(a){new a({el:$(".j-main")})})},_initOther:function(){c("正在开发，请耐心等待......")},_destroyPanel:function(){window.dataInsight&&window.dataInsight.main&&window.dataInsight.main.destroy()},hideOther:function(){$("#other").remove()}});return e});